---
import { getEntryBySlug, getCollection } from 'astro:content';
import Layout from '../../layouts/Layout.astro';

export async function getStaticPaths() {
  const posts = await getCollection('ensinamentos');
  return posts.map((post) => ({
    params: { slug: post.slug },
    props: { post }
  }));
}

const { post } = Astro.props;
const { Content } = await post.render();

const { title, description, image, estilo } = post.data;
---

<Layout 
  title={title}
  description={description}
  estilo={estilo}
  folhas={estilo === "folhas-caindo"}
>

<main class={`pagina-ensinamento ${post.data.classe}`}>
    <h1>{title}</h1>
    {image && <img src={image} alt={title} class="capa-oracao" />}
    

    <article class="conteudo-oracao">
      <Content />
    </article>
  </main>
</Layout>
