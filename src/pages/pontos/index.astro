---
import Layout from '../../layouts/Layout.astro';
import { getCollection } from 'astro:content';

const pontos = await getCollection('pontos');

// Organiza por data (mais novos no topo)
const pontosRecentes = pontos
  .filter((p) => p.data.pubDate)
  .sort((a, b) => new Date(b.data.pubDate) - new Date(a.data.pubDate));
---


<Layout>
<section class="secao-pontos">
  <h2>📻 Rádio Umbanda ao Vivo</h2>
  <div class="player-radio">
    <iframe 
      src="https://player.maxcast.com.br/sandrocm"
      width="100%"
      height="100"
      frameborder="0"
      allow="autoplay"
    ></iframe>
  </div>

  <div class="layout-pontos">
    <!-- Coluna 1: Lista lateral -->
   <aside class="lista-lateral">
  <h3>🎵 Categorias de Pontos</h3>
  <ul>
    <li><a href="/pontos/saudacao">🎵 Pontos de Saudação</a></li>
    <li><a href="/pontos/demanda">🕯️ Pontos de Demanda</a></li>
    <li><a href="/pontos/exu">🔴 Pontos de Exu</a></li>
    <li><a href="/pontos/chegada">✨ Pontos de Chegada</a></li>
  </ul>
</aside>


    <!-- Coluna 2: Cards -->
    <div class="grade-pontos">
      {pontosRecentes.map(({ data }) => (
        <a href={`/pontos/${data.slug}`} class="card-pontos">
          <h3>{data.title}</h3>
        </a>
      ))}
    </div>
  </div>
</section>

  </main>
</Layout>
