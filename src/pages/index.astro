---
import { getCollection } from "astro:content";
const posts = await getCollection("posts");

const oracoes = posts
  .filter(p => p.data.categoria === "oraÃ§Ã£o")
  .sort((a, b) => new Date(b.data.pubDate) - new Date(a.data.pubDate))
  .slice(0, 3);
---

<Layout>
  <main>
    <p class="boas-vindas">Seja bem-vinde ao nosso espaÃ§o espiritual ğŸŒ¿</p>

    <section class="ultimos-posts">
      <h2>ğŸ•Šï¸ Ãšltimas OraÃ§Ãµes</h2>
      <div class="posts-list">
        {oracoes.map(post => (
  <article class="post-card">
    <img src={post.data.image} alt={post.data.title} />
    <h3><a href={`/posts/${post.slug}`}>{post.data.title}</a></h3>
    <p>{post.data.description}</p>
  </article>
))}
      </div>
    </section>
  </main>
</Layout>
