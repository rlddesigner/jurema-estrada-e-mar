---
import Layout from "../layouts/Layout.astro";
import posts from "../utils/getPosts";

// Filtra por categoria
const oracoes = posts.filter(post => post.frontmatter.categoria === "oraÃ§Ã£o").slice(0, 3);
const pontos = posts.filter(post => post.frontmatter.categoria === "ponto").slice(0, 3);
const ensinamentos = posts.filter(post => post.frontmatter.categoria === "ensinamento").slice(0, 3);
---

<Layout>
  <main>
    <p class="boas-vindas">Seja bem-vinde ao nosso espaÃ§o espiritual ğŸŒ¿</p>

    <!-- ğŸ•Šï¸ Ãšltimas OraÃ§Ãµes -->
    <section class="ultimos-posts">
      <h2>ğŸ•Šï¸ Ãšltimas OraÃ§Ãµes</h2>
      <div class="posts-list">
        {oracoes.map(post => (
          <article class="post-card">
            <img src={post.frontmatter.image} alt={post.frontmatter.title} />
            <h3><a href={post.url}>{post.frontmatter.title}</a></h3>
            <p>{post.frontmatter.description}</p>
          </article>
        ))}
      </div>
    </section>

    <!-- ğŸ¶ Ãšltimos Pontos Cantados -->
    <section class="ultimos-posts">
      <h2>ğŸ¶ Ãšltimos Pontos Cantados</h2>
      <div class="posts-list">
        {pontos.map(post => (
          <article class="post-card">
            <img src={post.frontmatter.image} alt={post.frontmatter.title} />
            <h3><a href={post.url}>{post.frontmatter.title}</a></h3>
            <p>{post.frontmatter.description}</p>
          </article>
        ))}
      </div>
    </section>

    <!-- ğŸ“˜ Ãšltimos Ensinamentos -->
    <section class="ultimos-posts">
      <h2>ğŸ“˜ Ãšltimos Ensinamentos</h2>
      <div class="posts-list">
        {ensinamentos.map(post => (
          <article class="post-card">
            <img src={post.frontmatter.image} alt={post.frontmatter.title} />
            <h3><a href={post.url}>{post.frontmatter.title}</a></h3>
            <p>{post.frontmatter.description}</p>
          </article>
        ))}
      </div>
    </section>
  </main>
</Layout>
