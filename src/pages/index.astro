---
import { Markdown } from 'astro/components';

const posts = await import.meta.glob('../../posts/*.md', { eager: true });
const lista = Object.values(posts)
  .map((mod: any) => ({
    ...mod.frontmatter,
    url: '/posts/' + mod.url.split('/').pop().replace('.md', ''),
  }))
  .sort((a, b) => (b.date ?? 0) - (a.date ?? 0))
  .slice(0, 3);
---

<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <title>Jurema, Estrada e Mar</title>
    <link rel="stylesheet" href="/style.css" />
  </head>
  <body>
    <header class="cabecalho">
      <img src="/imagens/logo.png" alt="Logo Jurema, Estrada e Mar" class="logo" />
      <nav>
        <a href="/">In√≠cio</a>
        <a href="/oracoes">Ora√ß√µes</a>
        <a href="/pontos">Pontos Cantados</a>
        <a href="/ensinamentos">Ensinamentos</a>
        <a href="/sobre">Sobre</a>
      </nav>
    </header>

    <main class="inicio">
      <h2>üåº √öltimas Ora√ß√µes</h2>
      <section class="cards">
        {lista.map(post => (
          <a href={post.url} class="card">
            {post.image && <img src={post.image} alt={post.title} />}
            <h3>{post.title}</h3>
            <p>{post.description}</p>
          </a>
        ))}
      </section>
    </main>
  </body>
</html>
